###############################################################################
# STEP 1: Global Environment & Security
# Define server behavior, paths, and logging (Shared with Primary)
###############################################################################
include "/etc/named/general-conf/named-common-options.conf";

# Define IP-based Access Control Lists (Shared with Primary)
include "/etc/named/acl/access-list-general.conf";

# Define Peer Server Groups (Crucial for Slave to find its Masters)
include "/etc/named/general-conf/masters.conf";


###############################################################################
# STEP 2: Cryptographic Authentication (TSIG)
# Keys must be identical to Primary to authorize the transfer
###############################################################################

# Key for administrative Dynamic DNS updates
include "/etc/named/tsig/keys/dns-update/admin-dns-update.key";

# Keys for authorizing zone transfers from Primaries
include "/etc/named/tsig/keys/zone-transfer/zone-transfer-primaries.key";
include "/etc/named/tsig/keys/zone-transfer/zone-transfer-secondaries.key";

# Key for specific zone-level updates (for local auth consistency)
include "/etc/named/tsig/keys/zone-update/example.net.key";


###############################################################################
# STEP 3: Zone Manifests
# Load the 'Slave' logic (Type Slave) for hosted domains
###############################################################################
include "/etc/named/secondary/zones-conf/example.net.conf";

