###############################################################################
# STEP 1: Global Environment & Security
# Define server behavior, paths, and logging
###############################################################################
include "/etc/named/general-conf/named-common-options.conf";

# Define IP-based Access Control Lists (who can query/recurse)
include "/etc/named/acl/access-list-general.conf";

# Define Peer Server Groups (Primary/Secondary IP lists)
include "/etc/named/general-conf/masters.conf";


###############################################################################
# STEP 2: Cryptographic Authentication (TSIG)
# Keys must be loaded BEFORE they are used in zone definitions
###############################################################################

# Key for administrative Dynamic DNS updates
include "/etc/named/tsig/keys/dns-update/admin-dns-update.key";

# Keys for authorizing zone transfers to/from other servers
include "/etc/named/tsig/keys/zone-transfer/zone-transfer-primaries.key";
include "/etc/named/tsig/keys/zone-transfer/zone-transfer-secondaries.key";

# Key for specific zone-level updates (e.g., example.net automation)
include "/etc/named/tsig/keys/zone-update/example.net.key";


###############################################################################
# STEP 3: Zone Manifests
# Load the specific 'Master' logic for hosted domains
###############################################################################
include "/etc/named/primary/zones-conf/example.net.conf";

